---
title: Vessel simulator
description: Vessel simulator for the Reefer Container shipment solution
---

<PageDescription>
This service is responsible to simulate the vessel course events for a given voyage. It supports the event, actors, and commands discovered during the event storming workshop and illustrated by the following figure for the "vessel actor":
</PageDescription>

This project is part of the Container shipment reference implementation as presented in this [project](https://ibm-cloud-architecture.github.io/refarch-kc).


![](https://github.com/ibm-cloud-architecture/refarch-kc/blob/master/analysis/vessel-dom-cmd3.png)

The service exposes simple REST API to support getting vessels and fleets, and start and stop simulator to emulate vessel movements and container metrics events generation. When a vessel leaves or enters it will also generates the events as listed in the analysis.



## What you will learn

* Using JAXRS API to define REST resources
* Using microprofile 3.2 for API documentation, metrics, heath and readiness
* How to leverage OpenLiberty in container to support simple JEE and microprofile services
* Kafka producer code example
* Test Driven Development with JAXRS and Integration test with Kafka

We recommend also reading the [producer design and coding considerations article](https://github.com/ibm-cloud-architecture/refarch-eda/blob/master/docs/kafka/producers.md)

## User stories

This service keeps track of each of the vesselts available for transporting containers. Each vessel has a unique vesselID. We limit the implementation scope to a minimum viable product to demonstrate the vessel mouvement and generate events to kafka so we can apply stateful operator to compute average speed, ETA, and max speed metrics. The following user stories are implemented:

* [ ] The information about each vessel is kept in a json file so we an modify those data if necessary. Vessels are uniquely identified by their name (as vesselID).
* [ ] The capacity of a vessel is represented by a matrix, number of rows x number of columns to make it simpler. Therefore the total number of container is rows*columns.
* [ ] Support GPS lat/log position reports, as vessel position event, of the position of the vessel a different point in time. This is modeled as csv file with one row of (lat,log) pair, a row representing a time stamp. ()
* [ ] Generate vessel event when leaving source port and when entering destination port, and when docked.
* [ ] Define query of what happen to a vessel from a given time to retrace its past voyages.

